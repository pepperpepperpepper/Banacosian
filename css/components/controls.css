.ui-pill {
  background: var(--app-interactive-surface);
  border: var(--ui-border-width, 2px) solid var(--ui-border-color, var(--app-interactive-border));
  color: var(--ui-text-color, var(--app-text-primary));
  padding: var(--ui-padding-block, 12px) var(--ui-padding-inline, 20px);
  font-size: var(--ui-font-size, 1em);
  border-radius: var(--ui-border-radius, 25px);
  cursor: pointer;
  transition: all 0.3s ease;
  backdrop-filter: var(--app-blur-strong);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 0.35em;
}

.ui-pill:hover:not(:disabled) {
  background: var(--app-interactive-surface-hover);
  border-color: var(--ui-border-hover, var(--app-interactive-border-hover));
  transform: translateY(-2px);
}

.ui-pill:focus-visible {
  outline: 2px solid var(--app-focus, var(--notation-selection, var(--app-info)));
  outline-offset: 3px;
}

.ui-pill:disabled {
  opacity: var(--app-interactive-disabled-opacity);
  cursor: not-allowed;
  transform: none;
}

/* Interval choice visual states */
.interval-choice[aria-pressed="true"] {
  box-shadow: inset 0 3px 8px rgba(0,0,0,0.3);
}
.interval-choice.is-selected {
  border-color: var(--notation-accent, var(--app-focus, #88f));
}
.interval-choice.is-wrong {
  background: color-mix(in srgb, var(--app-danger, #ff6a6a) 70%, transparent);
  border-color: var(--app-danger, #ff6a6a);
}
.interval-choice.is-correct {
  background: color-mix(in srgb, var(--app-success, #5bd597) 70%, transparent);
  border-color: var(--app-success, #5bd597);
  color: #112;
}

/* Ripple + press animation */
.interval-choice {
  position: relative;
  overflow: hidden; /* contain ripple */
}
.interval-choice:active:not(:disabled) {
  transform: translateY(0) scale(0.98);
}
.interval-choice .ripple {
  position: absolute;
  border-radius: 50%;
  transform: scale(0);
  pointer-events: none;
  opacity: 0.35;
  background: currentColor;
  animation: interval-ripple 550ms ease-out;
}

@keyframes interval-ripple {
  to {
    transform: scale(12);
    opacity: 0;
  }
}

.control-btn {
  font-weight: 600;
  letter-spacing: 0.02em;
}

.solfege-response-row {
  margin-top: 16px;
  display: flex;
  gap: 12px;
  flex-wrap: wrap;
  justify-content: center;
}

#settingsToggle {
  position: relative;
}

#settingsToggle::after {
  content: '\25BE'; /* small down-pointing triangle */
  font-size: 0.9em;
  line-height: 1;
  margin-left: 0.5em;
  transform: translateY(1px) rotate(0deg);
  transform-origin: center;
  transition: transform 0.2s ease, opacity 0.2s ease;
  opacity: 0.9;
}

#settingsToggle[aria-expanded="true"] {
  background: var(--app-interactive-surface-hover);
  border-color: var(--app-interactive-border-hover);
  box-shadow: inset 0 2px 6px rgba(0,0,0,0.25);
  transform: translateY(0);
}

#settingsToggle[aria-expanded="true"]::after {
  transform: translateY(1px) rotate(180deg);
}

/* Immediate pressed feedback while pointer is down */
#settingsToggle[data-pressed="true"] {
  transform: translateY(0);
  box-shadow: inset 0 3px 8px rgba(0,0,0,0.3);
}

.select-pill {
  appearance: none;
  --ui-border-width: 2px;
  --ui-border-radius: 25px;
  --ui-font-size: 1em;
  --ui-padding-block: 12px;
  --ui-padding-inline: 15px;
  display: inline-block;
}

.select-pill option {
  background: #333;
  color: var(--app-text-primary);
}

#mode option.mode-option-primary {
  font-weight: 700;
}

.difficulty-selector {
  display: flex;
  align-items: center;
  gap: 10px;
  background: rgba(255, 255, 255, 0.1);
  padding: 10px 15px;
  border-radius: var(--app-border-radius-md);
}

.difficulty-selector label {
  font-size: 0.9em;
}

.difficulty-selector .select-pill {
  --ui-border-width: 1px;
  --ui-border-radius: 5px;
  --ui-font-size: 0.9em;
  --ui-padding-block: 5px;
  --ui-padding-inline: 10px;
  border-color: rgba(255, 255, 255, 0.3);
}

.difficulty-selector .select-pill option {
  background: #333;
}
